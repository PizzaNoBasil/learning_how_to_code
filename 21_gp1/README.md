# Электронный университет своими руками


## Contents

1. [Chapter I](#chapter-i) \
    1.1. [Introduction](#introduction)
2. [Chapter II](#chapter-ii) \
    2.1. [Information](#information)
3. [Chapter III](#chapter-iii) \
    3.1. [Файлы](#файлы) \
    3.2. [Модули](#модули) \
    3.3. [JSON](#json) \
    3.4. [Task 1](#task-1) \
    3.5. [Task 2](#task-2) \
    3.6. [Task 3](#task-3) \
    3.7. [Task 4](#task-4)


## Chapter I

### Introduction

Привет, участники курса!
Данный проект немного отличается от всех предыдущих. Он — командный. Что же это значит? Это означает, что над задачами в этом проекте ты будешь работать не один, а в команде из четырех человек. Но и сложность задач, конечно, тоже увеличится.

## Chapter II

### Information

Не забывайте, что наше обучение строится по принципу "равный равному" (P2P, peer-to-peer). P2P – это способ обучения, когда студенты помогают друг другу при возникновении каких-либо сложностей. Если ты столкнулся с чем-то непонятным, первым делом спроси у своих товарищей по курсу. Если ответа ты не получил, то обратись к Google. А получив ответ на свой вопрос, не забудь поделиться им с другими студентами!

Также хотим напомнить, что все решения нужно сохранять в папку`src`.
## Chapter III

### Файлы

Командное задание нацелено на знакомство с файлами. 

Файл — это набор данных, сохраненный на компьютере в виде последовательности битов. В Python существует два типа файлов:
- текстовые
- бинарные

Текстовые файлы — это файлы с содержимым, понятным для человека. В них хранятся последовательности символов, которые человек понимает. В бинарных файлах данные отображаются в закодированной форме: с использованием нулей и единиц вместо простых символов. 

Любую операцию с файлом можно разбить на три крупных этапа:
- открытие файла
- выполнение операции (чтение или запись)
- закрытие файла
В Python есть встроенная функция open(). С ее помощью можно открыть любой файл на компьютере. 

Делается это следующим образом:
```python
f = open(file_name, access_mode)
```
Как бы создается переменная файла, с которой в дальнейшем мы сможем работать.

file_name — это имя открываемого файла.

access_mode — режим открытия файла. 

Основные режимы: чтение (r) и запись (w). О других режимах рекомендуем почитать самостоятельно. По умолчанию используется режим чтения (r), если другое не указано.

Пример открытия файла:

```python
f = open('example.txt','r')
```

После открытия файла его нужно закрыть. Чтобы сделать это, существует несколько способов. 

**Способ №1**

Самый простой способ закрытия файла — использование метода close().

Пример:

```python
f = open('example.txt', 'r')
# работа с файлом
f.close()
```
**Способ №2**

Еще один подход — использование инструкции with. В таком случае инструкция close() не нужна, потому что with автоматически закроет файл после работы с ним.

Например:
```python
with open('example.txt') as f:
    # работа с файлом
```

Файлы в Python можно читать или записывать в них информацию при помощи соответствующих режимов.

Для чтения файлов используются две функции: read() и readline(). Их отличие заключается в том, что функция read() читает весь файл целиком, а функция readline() — построчно.

Для записи какой-либо информации в файл используются тоже две функции: write() и writelines(). Функция write() добавляет переданную ей строку в файл. А функция writelines() добавляет переданную последовательность строк в файл.

Также очень рекомендуем самостоятельно ознакомиться с другими методами работы с файлами в Python, например, методами tell(), seek() и другими.

### Модули

Для выполнения задания вам понадобятся знания о модулях в Python. Давай разберемся с ними!

Модулем в Python называется любой файл с программой. Каждая программа может импортировать (подключить) модуль и использовать его код в своей программе. 

Подключить модуль можно с помощью инструкции import. После ключевого слова import указывается название модуля. Например: 
```python
import math
``` 
Подключить определенные атрибуты модуля можно с помощью инструкции from. Эта инструкция имеет несколько форматов:
```python
from <Название модуля> import <Атрибут>
```
```python
from <Название модуля> import <Атрибут> as <Псевдоним атрибута>
```
```python
from <Название модуля> import *
```
P.s. псевдоним атрибута — это название для атрибута, которые мы хотим использовать в нашей программе. 

Примеры использования import: 
```python
from math import ceil
```
```python
from math import ceil as c
```
```python
from math import *
```
Последняя команда импортирует все атрибуты модуля. Она идентична команде import math.

Кстати, импортировать можно не только встроенные модули, но и соседние файлы в своем проекте. Когда ты работаешь над крупным проектом, у тебя несомненно получится много файлов. А для того, чтобы использовать код из одного файла в другом, его также импортируют с помощью команды import. 

С модулями связана еще одна очень интересная тема — библиотеки. Библиотека — это набор связанных модулей, объединенных вместе для предоставления определенного функционала. Библиотеки, как и модули, помогают разработчикам решать различные задачи без необходимости писать всё с нуля.

Python имеет множество различных библиотек, например, таких как os или sys. Кроме того есть большое количество сторонних библиотек, которые можно установить и использовать. Делается это с помощью ввода команды pip в консоли:
```
pip install <имя библиотеки>
```
Для импорта библиотеки используется та же конструкция import, что и для модулей.

Рекомендуем тебе самому ознакомиться с наиболее распространенными библиотеками и модулями в Python, они тебе в будущем могут очень сильно облегчить жизнь!

Также хотим напомнить тебе про чудесную команду help(). Вызвав ее, она может тебе рассказать всё о переданной ей библиотеке!

В нашем случае для выполнения задания нам будет необходим пакет JSON. 

Он используется для работы с json-файлами. Если ты никогда не  слышал о таких — не страшно, сейчас разберем!

### JSON

JSON (JavaScript Object Notation) — это формат обмена данными. Он легок и понятен для прочтения людьми, а компьютеры запросто справляются с его анализом и генерацией. 

JSON строится из набора пар “имя-значение”. Они очень похожи на словари в Python. 
Пример JSON-файла: 

```
{
    "students": [
        {
            "id": "01",
            "surname": "Petrov",
            "name": "Ivan",
            "average_grade": 4.5
        },
        {
            "id": "02",
            "surname": "Ivanov",
            "name": "Vladimir",
            "average_grade": 3.8
        }
    ],
    "teachers": [
        {
            "surname": "Morozov",
            "name": "Peter",
            "subject": "Philosophy"
        }
    ]
}

```

Работать с JSON-файлами очень просто! Обо всех необходимых методах вы можете узнать в Интернете. Не поленитесь хорошенько изучить пакет JSON, он вам пригодится для выполнения командного задания!

А теперь давайте перейдем непосредственно к заданию!

**Ваша задача:** разработать “файловую” базу данных с несколькими “таблицами”. Под "таблицей" подразумевается один JSON-файл со списком JSON-ов, каждый из которых имеет одинаковую структуру. Доступ и манипуляции с БД осуществляются с помощью консольной менюшки (бесконечной до нажатия на “выход”, как мы с вами уже делали во втором проекте нашего курса), поддерживается стандартный набор операций CRUD (если не знаешь, что это такое - загугли, так как это очень часто используемое понятие среди IT-специалистов), а также несколько специфичных запросов для доступа и поиска согласно варианту. 

К решению есть требования: 
* CRUD запросы: 
	1. Должны быть реализованы отдельными функциями.
    1. Они должны быть универсальны для всех таблиц (реализованы не более 1 раза).
* Контент таблиц должен удовлетворять минимальным требования по содержанию - минимум 20 записей 
* Более специфичные требования описаны для каждого варианта отдельно (см. ниже)

Всё это у нас с вами получится по мере выполнения приложенных ниже небольших задач. Рекомендуем каждому члену команды взять на себя по одному заданию, а потом всем вместе его “соединить воедино”. Но вы можете договориться между собой и реализовывать задуманное так, как вам будет удобнее! Главное, чтобы каждый из вас поработал над этой задачей примерно в равной мере. И не стесняйтесь просить друг у друга помощи при выполнении задач. Помогайте друг другу!

А перед тем, как перейти непосредственно к задачам, хотим напомнить тебе, что весь написанный код нужно “заливать” (отправлять) в репозиторий.  Надеемся, ты помнишь, что сначала нужно скачать репозиторий к себе (команда git clone), далее для подключения себе последних изменений — git pull. После этого создаем отдельную ветку. Для отправки внесенных изменений в удаленный репозиторий: сначала git add, затем git commit и напоследок — git push. А после того, как все участники проекта посмотрели твои изменения и согласны с ними, нужно “влить” твою ветку в ветку develop.

Для этого задания ты можешь выбрать любую из представленных ниже тематик.

**Варианты тематик:**

**Вариант 1. Библиотека**

Файл (`library.json`):

```js
[
    {
      "BookID": 1,
      "Title": "Война и мир",
      "Author": "Лев Толстой",
      "Genre": "Роман",
      "Year": 1869,
      "BorrowedBy": ["Иван", "Николай"]
    }
    // Добавьте еще минимум 19 записей.
    // Поле BookID должно быть уникальным для всех книг.
    // Поле BorrowedBy может быть пустым списком.
    // Поле BorrowedBy минимум у одной книги должно быть пустое.
    // Поле Author должно иметь минимум 5 различных значений.
    // Поле Genre должно иметь минимум 5 различных значений.
]
```

Помимо CRUD-операций реализовать дополнительный функционал:

- Поиск книг по жанру/автору.
- Поиск "самой популярной" книги/книг, которая находится в пользовании у наибольшего числа пользователей.
- Поиск книг, которые не были взяты из библиотеки.

**Вариант 2. Журнал оценок**

Файл (`register.json`)

```js
[
    {
      "GradeID": 1,
      "StudentName": "Анна",
      "Class": "10A",
      "Subject": "Математика",
      "Score": 5
    }
    // Добавьте еще минимум 19 записей. 
    // Поле GradeID должно быть уникальным для всех оценок.
    // Поле StudentName должно быть уникально для одного значения поля Class (сделаем допущение, что в каждом классе может быть лишь один человек с определённым именем).
    // Поле Subject должно иметь минимум 3 различных значений.
    // Поля StudentName и Class должно иметь минимум 5 различных значений.
]
```

Помимо CRUD-операций реализовать дополнительный функционал:

- Расчет среднего балла по предмету/для студента.
- Вывод студентов и предметов, по которым оценки ниже определенного значения (задаётся пользователем).
- Вывод студентов-хорошистов (имеют отметки только 4 и/или 5).

**Вариант 3. Законодательство**

Файл (`laws.json`)

```js
[
    {
      "AmendmentID": 1,
      "LawName": "О налогах",
      "LawYear": 2000,
      "Description": "Дополнение к статье 10",
      "AmendmentYear": 2005
    }
    // Добавьте еще минимум 19 записей.
    // Поле AmendmentID должно быть уникальным для всех поправок.
    // Поле AmendmentYear должно иметь минимум 5 различных значений.
    // Поле LawName должно иметь минимум 5 различных значений.
    // Поле LawYear должно иметь минимум 5 различных значений.
]
```

Помимо CRUD-операций реализовать дополнительный функционал:

- Поиск законов по году принятия.
- Вывод списка законов с поправками, внесёнными в текущем году.
- Вывод всех поправок для определённого закона.

**Вариант 4. Экономические индикаторы**

Файл (`economic_indicators.json`)

```js
[
    {
      "IndicatorID": 1,
      "Country": "Россия",
      "Year": 2022,
      "GDP": 1500,
      "Inflation": 5
    }
    // Добавьте еще минимум 19 записей. 
    // Поле IndicatorID должно быть уникальным для всех индикаторов.
    // Поле Year не должно повторяться для одной страны (Country).
    // Поле Year должно иметь минимум 5 различных значений.
    // Поле Country должно иметь минимум 7 различных значений.
    // Поле Inflation должно иметь минимум 7 различных значений.
]
```

Помимо CRUD-операций реализовать дополнительный функционал:

- Вывод Топ-5 стран с наибольшим ВВП (GDP) за последний год (по убыванию).
- Вывод индикаторов определенной страны (по названию) за последние 5 лет.
- Вывод стран с инфляцией больше определенного значения (задаётся пользователем).

**Вариант 5. Социологические вопросы**

Файл (`surveys.json`)

```js
[
    {
      "ResponseID": 1,
      "Topic": "Корпоративная лояльность",
      "UserID": 1,
      "Question": "Уважаете ли вы своего начальника?",
      "Answer": "Да"
    }
    // Добавьте еще минимум 19 записей. 
    // Поле ResponseID должно быть уникальным для всех ответов.
    // Поле Topic должно иметь минимум 4 различных значений.
    // Поле Question должно иметь минимум 8 различных значений.
]
```

Помимо CRUD-операций реализовать дополнительный функционал:

- Вывод результатов (вопрос <-> количество ответов) опроса по конкретной теме (topic) (задаётся пользователем).
- Вывод всех уникальных вопросов для определённого топика (задаётся пользователем).
- Вывод самого популярного вопроса (наибольшее количество ответов) и ответов к этому вопросу.

Давайте начнем!

### Task 1
Первая задача — разработать консольное меню (как вы это уже делали для сэндвичей во втором проекте 😉). Пока что вместо выполнения команд выводить на экран предложения вида: “Я делаю вот это.”

### Task 2
Разработать блок “бизнес-логики и оперативной памяти БД”. Подумайте, как хранить сущности (какой тип данных из изученных нами в четвертом проекте для этого лучше использовать), как сделать их аккуратный вывод (в виде таблиц) в консоль и реализуйте это. У вас получится своего рода прослойка между файлами и консолью. В этом задании для работы с файлами используйте заглушки (если вдруг вы не знаете, что такое заглушки и как с ними работать, не стесняйтесь обратиться за помощью в Google или к своим товарищам по курсу). 

Пример "аккуратного" вывода таблицы:

```
+--------+---------+--------+
| Имя    | Фамилия | Возраст|
+--------+---------+--------+
| Иван   | Иванов  | 30     |
| Петр   | Петров  | 25     |
| Сидор  | Сидоров | 22     |
+--------+---------+--------+
```

### Task 3
Разработать общий блок работы с файлами — CRUD сущностей (реализуйте код для заглушек из задания 2). Не забывайте про разбиение кода на отдельные функции, которые мы с вами проходили в третьем дне нашего курса.

### Task 4
Реализовать выполнение команд-запросов, соответствующих выбранному варианту тематики. Нужно заполнить JSON-файлы таким образом, чтобы можно было продемонстрировать работоспособность каждого из дополнительных пунктов по варианту. Здесь вам пригодятся знания условий и циклов, которые мы изучали во втором проекте, а также знание различных типов данных в Python.

P.s. не забудьте про формат JSON, он очень поможет вам для выполнения этого задания. 

>Пожалуйста, оставьте обратную связь по проекту в [форме обратной связи.](https://forms.gle/1P2V8XaVEmY3fA416)

